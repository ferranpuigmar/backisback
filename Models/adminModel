<?php

class adminModel extends Mysql
{
    private $intIdUser;
    private $strUser;
    private $strPassword;

    public function __construct()
    {
        parent::__construct();
    }

// GESTION DE CURSOS (ALTA)                           
    public function insertCourse(string $name, string $description, string $date_start, string $date_end, string $active)
    {
        $this->strName = $name;
        $this->strDescription = $description;
        $this->strDate_start = $date_start;
        $this->strDate_end = $date_end;
        $this->strActive = $active;  
        
        
         $sql = "INSERT INTO course(name,description,date_start,date_end, active) VALUES(?,?,?,?,?)";
         $arrData = array($this->strName,$this->strDescription,$this->strDate_start,$this->strDate_end,$this->strActive);
         $request_insert = $this->insert($sql,$arrData);
         return $request_insert;

    }
    
//
// GESTION DE ASIGNATURAS:
//
//
//(LISTADO DE ASIGNATURAS) 
    public function selectClass(int $id_teacher, int $id_course, `id_schedule`, `name`
    {
        
        $sql = "SELECT * from students WHERE 
                username = '$this->strUser' and
                pass = '$this->strPassword'
        $sql = "SELECT  cou.name, cla.name, cla.id_teacher,t.name , t.surname, cla.Id_schedule, S.day, S.time_start, S.time_end
                       from class cla JOIN courses cou JOIN teachers t JOIN schedule s
                       WHERE cla.id_course   = cou.id_course and 
                             cla.id_teacher  = t.id_teacher and
                             cla.id_schedule = s.id_schedule;


        $request = $this->select($sql);
        return $request;
    }
//(ALTA ASIGNATURAS)
     public function insertClass(string $user, string $password)
    {
        
    }
    
}
